#JavaScript/patterns

#### **Синтаксис:**

javascript

Copy

string.localeCompare(compareString[, locales[, options]]);

- **`compareString`:** Строка для сравнения.
    
- **`locales` (опционально):** Локаль (например, `"en"`, `"ru"`, `"de"`).
    
- **`options` (опционально):** Настройки сравнения (см. ниже).
    

---

#### **Возвращаемое значение:**

- **Отрицательное число:** `string` должна идти **перед** `compareString`.
    
- **Ноль:** Строки равны.
    
- **Положительное число:** `string` должна идти **после** `compareString`.
    

---

#### **Основные параметры `options`:**

- **`sensitivity`:**
    
    - `"base"`: Игнорирует регистр и акценты (`a == A == á`).
        
    - `"accent"`: Учитывает акценты, но игнорирует регистр (`a == A`, но `a != á`).
        
    - `"case"`: Учитывает регистр, но игнорирует акценты (`a == á`, но `a != A`).
        
    - `"variant"`: Учитывает и регистр, и акценты (по умолчанию).
        
- **`ignorePunctuation`:** Игнорировать знаки препинания (`true`/`false`).
    
- **`numeric`:** Сортировать числа в строках как числа (`true`/`false`).
    
- **`caseFirst`:** Приоритет регистра (`"upper"` или `"lower"`).
    

---

#### **Примеры:**

1. **Простое сравнение:**
    
```javascript
    console.log("a".localeCompare("b")); // -1 ("a" перед "b")
    console.log("b".localeCompare("a")); // 1 ("b" после "a")
    console.log("a".localeCompare("a")); // 0 (строки равны)
```
    
2. **Сравнение с учётом локали:**
    
```js
    console.log("ä".localeCompare("z", "de")); // -1 (в немецком "ä" перед "z")
	console.log("ä".localeCompare("z", "sv")); // 1 (в шведском "ä" после "z")
```
    
3. **Игнорирование регистра:**
    
```js
    console.log("A".localeCompare("a", undefined, { sensitivity: "base" })); // 0
```
    
1. **Числовая сортировка:**
    Это супер удобно. Когда нужно сравнить и отсортировать строки по числовым значениям. Особенно когда помимо числа есть ещё и буквы, как в примере ниже
```js
    const files = ["file10", "file2", "file1"];
	files.sort((a, b) => a.localeCompare(b, undefined, { numeric: true }));
	console.log(files); // ["file1", "file2", "file10"]
```
     
1. **Сортировка массива строк:**
    
```js
	const words = ["apple", "Banana", "cherry", "Ápple"];
	words.sort((a, b) => a.localeCompare(b));
	console.log(words); // ["apple", "Ápple", "Banana", "cherry"]
```
     

---

#### **Когда использовать `localeCompare`?**

1. **Сортировка строк:**
    
    - Когда нужно отсортировать строки с учётом языка, регистра или акцентов.
        
2. **Сравнение строк:**
    
    - Когда нужно корректно сравнить две строки с учётом локали.
        
3. **Работа с Unicode:**
    
    - Когда строки содержат символы за пределами ASCII (эмодзи, акценты, кириллица и т.д.).
        
4. **Числовая сортировка:**
    
    - Когда строки содержат числа, и нужно сортировать их как числа.
        
5. **Мультиязычные приложения:**
    
    - Когда приложение поддерживает несколько языков, и нужно учитывать их особенности.
        

---

#### **Когда НЕ использовать `localeCompare`?**

1. **Простые сравнения:**
    
    - Если нужно просто сравнить строки без учёта локали, используйте операторы `<`, `>`
     
```js
console.log("a" < "b"); // true
```
    
1. **Высокая производительность:**
    
    - Если производительность критична, а особенности локали не важны, `localeCompare` может быть избыточным.
        

---

### **Итог:**

- **Используйте `localeCompare`,** когда нужно корректно сравнивать или сортировать строки с учётом языка, регистра, акцентов или чисел.
    
- **Не используйте `localeCompare`,** если достаточно простого сравнения строк или если производительность критична.